@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<div class="m-header">
  <NavLink href="" class="m-header__logo" Match="NavLinkMatch.All">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 2534.042 338.545">
      <path class="p" d="M1058.192,238.755c-3.47-1.127-5.932-2.644-7.318-4.505c-1.408-1.89-2.242-5.344-2.478-10.273l-5.7-105.219v-4.291   c0-5.559,1.606-9.35,4.772-11.269c3.341-2.02,22.116-7.223,22.245-8.488c0.041-0.411-0.1-0.796-0.399-1.085   c-0.624-0.604-1.704-0.604-2.957-0.604c-3.659,0-8.075,0.224-13.131,0.665c-4.819,0.435-8.992,0.655-12.402,0.655   c-2.741,0-6.562-0.22-11.367-0.656c-5.35-0.441-9.741-0.664-13.053-0.664h-0.765l-54.138,120.297L909.09,93.021h-0.773   c-3.08,0-7.451,0.223-12.995,0.664c-5.318,0.435-9.453,0.656-12.291,0.656c-2.184,0-5.689-0.22-10.436-0.656   c-5.625-0.44-10.038-0.664-13.117-0.664c-1.233,0-2.154,0.276-2.739,0.82c-0.437,0.407-0.652,0.939-0.619,1.538   c0.058,1.076,19.326,6.627,22.96,8.659c3.485,1.948,5.179,5.052,5.179,9.489c0,0.94-0.042,3.836-0.119,5.121l-12.895,103.508   c-0.55,6.245-2.695,10.503-6.377,12.658c-4.04,2.364-25.85,9.281-25.85,12.446c0,1.002,4.185,0.6,4.344,0.6   c3.72,0,9.088-0.222,15.948-0.661c7.044-0.436,12.676-0.657,16.739-0.657c3.719,0,9.084,0.221,15.952,0.658   c7.436,0.438,13.384,0.66,17.68,0.66c0.242,0,0.463,0.016,0.66,0.03c0.61,0.042,1.373,0.097,1.983-0.403   c0.629-0.516,0.716-1.329,0.716-2.13c0-3.036-16.773-6.75-22.592-10.003c-3.48-1.948-5.172-5.125-5.172-9.712   c0-0.923,0.08-1.994,0.243-3.222l8.546-96.986c4.321,9.663,15.798,35.289,27.305,60.653c8.518,18.775,15.385,33.736,20.411,44.466   c9.752,20.824,10.107,20.824,11.159,20.824c2.9,0,4.062-1.309,4.518-2.388l57.875-128.682l7.05,103.849v1.758   c0,5.556-1.606,9.344-4.772,11.26c-3.345,2.023-24.4,5.787-24.4,6.611c0,3.546,2.105,4.076,3.36,4.076   c5.527,0,12.183-0.222,19.787-0.661c7.19-0.436,13.354-0.657,18.326-0.657c4.971,0,11.307,0.221,18.837,0.658   c7.925,0.438,14.747,0.66,20.274,0.66c1.161,0,3.109-0.53,3.109-4.076C1076.903,242.962,1061.814,239.932,1058.192,238.755z" />
      <path class="p" d="M1259.325,207.132c-0.893-0.62-0.714-0.317-1.812,0.341c-1.563,0.936-17.442,30.272-46.997,30.962h-24.106   c-7.96,0-11.829-3.941-11.829-12.049v-53.407h26.868c6.68,0,10.687,2.352,13.937,5.029c6.289,5.181,8.846,19.125,9.288,19.727   c0.872,1.189,2.683-0.433,2.582-0.827c-0.052-0.205-0.325-9.095-0.767-14.837c-0.438-5.313-0.66-9.75-0.66-13.188   c0-3.364,0.222-7.763,0.66-13.08c0.441-5.59,0.665-10.305,0.665-14.013c0-0.202-0.578-3.765-1.846-1.465   c-0.361,0.654-7.086,15.66-9.584,18.878c-2.418,3.118-7.221,4.699-14.274,4.699h-26.868v-48.209   c0-8.255,3.869-12.268,11.829-12.268h22.336c23.396,0.152,40.882,25.386,40.826,24.821c-0.02-0.199,3.7,2.432,2.855-0.952   c-2.37-9.482-7.282-22.093-8.963-33.422l-0.133-0.895l-0.904,0.043c-18.396,0.881-37.615,1.327-57.122,1.327   c-19.363,0-38.545-0.446-57.062-1.328c-1.033,0-2.9-0.121-3.111,1.57c-0.106,0.848,13.878,7.153,17.016,8.367   c3.011,1.165,5.092,2.714,6.187,4.606c1.122,1.938,1.69,5.399,1.69,10.287v106.784c0,4.947-0.601,8.418-1.784,10.315   c-1.168,1.867-14.265,7.69-17.28,8.821c-3.16,1.184-5.379,4.262-4.855,4.737c0.354,0.321,0.762,0.395,1.133,0.395   c0.174,0,0.34-0.016,0.488-0.031c0.153-0.015,0.325-0.033,0.547-0.034c27.748-0.88,47.68-1.326,59.24-1.326   c11.495,0,29.483,0.409,58.325,1.326l0.751,0.024l0.232-0.715C1250.569,236.609,1260.694,208.068,1259.325,207.132z" />
      <path class="p" d="M1693.733,93.02c-5.015,0-11.025,0.224-17.869,0.667c-6.435,0.439-11.956,0.662-16.411,0.662   c-4.453,0-9.673-0.223-15.519-0.662c-6.187-0.442-11.829-0.667-16.77-0.667l-0.264-0.002c-0.67-0.006-3.343,0.494-3.937,1.079   c-0.61,0.602,14.92,6.602,17.792,7.844c2.719,1.174,4.475,2.721,5.219,4.595c0.796,2.014,1.2,5.465,1.2,10.257v48.879h-82.376   v-48.245c0-7.078,0.88-9.967,1.619-11.145c1.053-1.682,2.969-3.054,5.694-4.077c2.855-1.07,15.496-6.408,15.433-7.236   c-0.159-2.062-1.699-1.949-2.734-1.949c-4.941,0-10.583,0.224-16.771,0.667c-5.846,0.438-11.066,0.661-15.519,0.661   c-4.455,0-10.014-0.223-16.522-0.662c-6.845-0.442-12.818-0.666-17.757-0.666c-1.035,0-2.274-0.403-3.331,1.288   c-0.44,0.704,14.098,6.996,17.246,8.175c3.01,1.127,5.129,2.664,6.297,4.564c1.188,1.939,1.79,5.431,1.79,10.379v106.876   c0,6.486-1.479,10.828-4.395,12.908c-3.052,2.177-23.476,7.705-22.049,10.877c1.903,0.793,15.344,0.527,22.201,0.086   c6.511-0.439,12.069-0.662,16.52-0.662c4.447,0,9.669,0.223,15.522,0.662c6.193,0.441,11.834,0.665,16.767,0.665   c2.771,0,3.686-0.087,3.686-1.068c0-2.41-14.307-7.479-17.224-8.727c-2.76-1.18-4.533-2.709-5.272-4.547   c-0.797-1.973-1.201-5.402-1.201-10.194v-49.555h82.376v50.15c0,4.789-0.403,8.219-1.198,10.194   c-0.742,1.838-2.516,3.368-5.272,4.547c-2.919,1.248-19.538,5.435-17.793,7.497c1.018,1.203,14.827,1.478,21.027,1.037   c5.846-0.439,11.066-0.662,15.515-0.662c4.45,0,9.972,0.223,16.415,0.663c6.851,0.44,12.861,0.664,17.865,0.664   c1.71,0,3.874,0.457,3.874-2.178c0-2.525-18.431-6.678-21.483-8.854c-2.913-2.078-4.391-6.421-4.391-12.908V116.793   c0-4.952,0.601-8.444,1.786-10.379c1.164-1.899,3.284-3.436,6.302-4.564c3.146-1.18,17.623-6.809,17.388-7.217   C1696.473,93.357,1694.612,93.02,1693.733,93.02z" />
      <path class="p" d="M2114.246,89.481c-3.321,0-8.07,0.224-14.112,0.667c-6.217,0.439-11.215,0.662-14.857,0.662   c-3.352,0-8.164-0.223-14.311-0.662c-6.63-0.442-12.01-0.667-15.991-0.667c-1.033,0-7.827-2.157-7.827,1.408   c0,3.175,23.681,9.538,27.099,11.973c3.281,2.34,4.944,6.52,4.944,12.426v91.67L1974.443,89.815l-0.298-0.333h-0.447   c-2.679,0-5.919,0.226-9.632,0.671c-3.556,0.436-6.639,0.657-9.165,0.657c-2.019,0-5.108-0.222-9.196-0.66   c-4.656-0.443-7.993-1.604-15.288-0.652c-3.245,0.423,0.597,3.144,1.745,3.172c9.201,1.157,17.94,5.199,21.251,7.454   c3.159,2.152,4.689,8.661,4.689,14.258l0.001,0.958l-3.869,104.143c-0.212,6.347-2.115,10.345-4.983,12.765   c-13.429,11.33-22.054,12.191-21.899,13.039c1.586,1.057,11.513-0.21,17.556-0.651c6.213-0.439,11.212-0.662,14.857-0.662   c3.354,0,8.206,0.223,14.424,0.662c6.704,0.44,15.61,2.659,19.348,0.756c1.528-0.778-2.496-2.094-3.489-2.22   c-9.015-1.081-15.753-7.718-18.564-10.931c-2.572-2.941-4.854-5.759-4.854-11.052c0-0.472,0.034-0.989,0.101-1.536l1.517-99.814   l112.301,126.894l0.124,0.118c1.672,1.338,3.034,1.988,4.164,1.988c3.297,0,3.652-2.245,3.652-3.191l2.434-130.346   c0.139-6.348,1.798-10.661,4.931-12.819c3.272-2.256,25.517-9.051,25.517-12.226C2117.879,88.669,2115.281,89.481,2114.246,89.481z   " />
      <path class="p" d="M2326.992,89.515c0,0-55.106,3.064-91.678,3.064c-35.62,0-75.274-1.035-85.197-3.077l-0.929-0.191l-0.24,0.917   c0.846,10.706,2.649,14.019,4.871,37.726c0.004,0.045-0.062,0.168-0.062,0.168v0.179c0,0.376,2.515,0.289,3.761-1.64   c3-4.647,7.185-14.922,12.999-18.537c8.277-5.146,25.172-6.468,35.328-6.468h8.624c4.258,0,6.078,0.825,6.856,1.518   c1.098,0.974,1.654,2.954,1.654,5.886v112.24c0,6.484-1.477,10.823-4.39,12.897c-3.054,2.176-19.055,11.209-27.773,12.217   c-0.987,0.125,21.062,0.432,27.925-0.009c6.521-0.439,12.097-0.662,16.573-0.662c4.332,0,9.797,0.223,16.246,0.662   c6.859,0.441,12.834,0.665,17.757,0.665c1.035,0,9.887,1.036,9.887-0.656c-13.533-5.075-20.44-9.109-23.636-10.294   c-3.052-1.131-5.188-2.666-6.354-4.563c-1.187-1.929-1.788-5.38-1.788-10.257v-112.24c0-2.929,0.557-4.91,1.654-5.886   c0.78-0.692,2.584-1.518,6.748-1.518h10.393c11.302,0,28.802,2.112,34.499,6.276c4.997,3.655,7.101,13.429,10.102,21.689   c0.418,1.15,1.797,1.903,3.13-0.164C2314.778,128.175,2320.225,106.008,2326.992,89.515z" />
      <path class="p" d="M710.068,329.299c-0.357-4.124-1.026-8.248-1.024-12.371c0.046-63.043,0.115-126.087,0.33-189.13   c0.065-19.061,7.679-27.206,25.931-29.465c27.071-3.351,54.099-7.043,81.154-10.527c0.893-0.115,1.874,0.455,5.011,1.292   c-8.949,17.033-17.654,33.602-27.592,52.519c-1.504-4.226-2.3-5.417-2.297-6.606c0.064-26.577-8.584-34.169-35.114-30.719   c-32.797,4.265-39.735,16.012-28.265,47.549c1.142,3.139,2.225,6.698,1.896,9.915c-5.39,52.674-11.01,105.324-16.586,157.979   c-0.337,3.181-0.739,6.355-1.11,9.533C711.625,329.278,710.847,329.288,710.068,329.299z" />
      <path class="p" d="M688.145,338.545c-1.361-19.387-2.45-35.341-3.606-51.291c-2.333-32.189-4.233-64.418-7.236-96.545   c-1.762-18.853-6.838-37.031,0.292-56.391c4.798-13.027-3.185-22.79-16.761-26.761c-0.952-0.278-1.92-0.505-2.874-0.777   c-33.826-9.658-46.741-1.119-49.228,35.72c-10.045-19.189-18.775-35.865-29.081-55.552c16.329,2.089,29.382,3.739,42.43,5.433   c15.744,2.044,31.442,4.545,47.236,6.07c14.456,1.395,22.613,10.855,22.716,23.105c0.584,70.013-0.19,140.038-0.588,210.059   C691.436,332.802,690.363,333.984,688.145,338.545z" />
      <path class="p" d="M1316.833,93.129c1.569-0.174,2.326-0.336,3.082-0.331c14.569,0.103,29.139,0.156,43.707,0.369   c9.111,0.134,18.227,0.373,27.326,0.834c6.442,0.326,12.838,1.407,18.91,3.622c13.818,5.04,23.393,14.22,26.987,28.855   c1.425,5.801,1.283,11.628-0.788,17.272c-3.881,10.577-10.265,18.946-21.141,23.139c-3.597,1.387-7.264,2.591-10.892,3.896   c-1.726,0.621-3.438,1.282-5.448,2.033c0.925,1.776,1.55,3.22,2.39,4.526c1.07,1.663,2.24,3.277,3.496,4.805   c7.176,8.723,14.399,17.406,21.589,26.118c11.53,13.971,29.144,25.419,44.733,34.657c1.348,0.799,1.482,1.614,0.529,2.758   c-0.715,0.857-1.685,0.401-2.273,0.402c-12.592,0.018-25.183-0.012-37.775,0.047c-1.642,0.008-2.838-0.492-3.89-1.705   c-4.218-4.862-8.678-9.529-12.674-14.565c-9.672-12.188-19.14-24.539-28.679-36.832c-4.009-5.167-7.884-10.442-12.016-15.508   c-3.831-4.698-3.946-4.604-9.985-4.604c-3.362,0-6.723,0-10.463,0c-0.332,1.756-0.872,3.361-0.897,4.975   c-0.089,5.744,0.011,11.491,0.013,17.236c0.005,9.513-0.006,19.026-0.019,28.539c-0.008,6.246-0.031,12.492-0.047,18.738   c-0.002,0.972,0,1.944,0,3.304c-14.034,0-27.827,0-42.018,0c0.787-0.398,1.31-0.709,1.866-0.937   c4.534-1.86,8.702-4.275,12.173-7.805c1.748-1.778,2.631-3.733,2.632-6.34c0.006-40.647,0.062-81.294,0.228-121.94   c0.014-3.386-1-5.956-3.475-8.106c-1.57-1.364-3.138-2.738-4.616-4.2C1318.587,95.577,1317.966,94.583,1316.833,93.129z    M1353.051,138.515c0,5.607,0,17.018,0,25.431c0,0.198,0.021,0.398,0,0.594c-0.17,1.594,0.613,2.464,2.135,2.595   c2.657,0.227,5.324,0.533,7.982,0.5c5.737-0.072,11.473-0.515,17.207-0.484c8.792,0.048,15.655-6.658,21.048-13.325   c4.481-5.539,6.584-12.126,7.7-19.038c0.309-1.915,0.369-3.979,0.012-5.875c-2.106-11.192-10.75-23.388-26.993-24.177   c-8.681-0.422-17.402-0.06-26.104-0.01c-1.899,0.011-2.693,0.594-3.081,2.521c-0.349,1.73-0.495,3.534-0.469,5.302   C1352.603,120.269,1352.812,127.986,1353.051,138.515z" />
      <path class="p" d="M1836.198,85.87c0,2.571-0.043,5.159,0.009,7.745c0.12,5.966,0.996,11.79,2.672,17.555   c4.066,13.983,10.107,27.194,15.624,40.604c8.626,20.969,17.513,41.832,26.243,62.759c4.381,10.5,9.442,20.537,18.291,27.997   c-1.186,3.558-1.186,3.565-4.603,3.567c-7.166,0.005-14.331,0.005-21.497,0c-3.826-0.003-7.597-2.596-8.559-6.211   c-2.706-10.17-7.041-19.725-10.904-29.46c-0.965-2.432-1.804-4.913-2.684-7.379c-0.27-0.758-0.454-1.547-0.722-2.306   c-2.113-5.972-4.116-7.553-10.425-7.696c-4.635-0.105-9.278,0.136-13.917,0.146c-5.845,0.012-11.69-0.122-17.534-0.066   c-5.642,0.054-11.284,0.267-16.925,0.415c-2.746,0.072-4.837,1.367-6.283,3.621c-1.194,1.861-2.241,3.819-3.302,5.762   c-1.545,2.829-2.917,5.76-4.587,8.511c-5.495,9.052-11.263,17.942-16.593,27.09c-4.068,6.983-9.86,12.184-16.056,17.069   c-1.966,1.55-2.241,1.546-4.52,1.519c0.158-0.576,0.205-1.146,0.457-1.602c1.461-2.644,3.01-5.24,4.456-7.891   c8.4-15.398,16.733-30.832,25.177-46.206c10.483-19.086,21.007-38.15,31.595-57.179c10.443-18.768,20.978-37.485,31.513-56.202   C1833.682,87.038,1833.887,85.354,1836.198,85.87z M1821.529,133.856c-5.228,8.893-28.627,49.315-29.093,51.051   c-0.52,1.943-0.314,2.253,1.69,2.757c1.348,0.339,2.78,0.449,4.177,0.472c9.472,0.157,18.945,0.333,28.418,0.361   c5.321,0.016,10.657-0.076,15.735-1.192c1.208-1.777,0.56-3.293-0.066-4.795C1838.168,172.372,1825.657,144.493,1821.529,133.856z" />
      <path class="p" d="M175.876,231.187c7.239,7.491,14.285,17.937,14.942,22.273c-2.496,0.099-4.968,0.272-7.441,0.284   c-19.772,0.093-39.544,0.156-59.317,0.227c-20.782,0.075-41.565,0.093-62.347,0.243c-12.1,0.087-24.199,0.311-36.295,0.625   c-4.121,0.107-8.224,0.764-12.345,1.016c-4.304,0.264-8.603,0.1-13.073-0.765c0.348-1.365,1.448-1.781,2.219-2.461   c5.589-4.937,11.188-9.863,16.783-14.794c5.693-5.018,7.487-11.453,6.989-18.804c-0.232-3.416-0.227-6.851-0.228-10.278   c-0.013-55.797-0.023-111.593,0.006-167.39c0.004-8.341-1.506-16.438-3.5-24.479c-0.994-4.008-2.057-8-2.953-12.03   c-0.342-1.538-0.302-3.161-0.429-4.655c1.514-0.641,1.848,0.39,2.339,1.098c6.329,9.11,12.608,18.254,18.989,27.327   c3.596,5.113,7.28,10.169,11.063,15.146c4.637,6.1,6.843,12.958,6.82,20.563c-0.051,16.94-0.199,33.88-0.194,50.82   c0.006,20.378,0.045,40.756,0.229,61.133c0.125,13.813,0.456,27.625,0.845,41.433c0.108,3.815,0.706,7.621,1.173,11.42   c0.384,3.122,2.252,5.164,5.182,6.077c2.008,0.626,4.112,1.204,6.193,1.282c7.449,0.281,14.907,0.341,22.362,0.482   c0.403,0.008,0.807-0.009,1.211-0.011c11.398-0.072,22.797-0.06,34.193-0.243c9.072-0.146,18.152-0.324,27.203-0.893   c4.6-0.289,9.175-1.332,13.7-2.314C172.2,233.087,174.055,231.958,175.876,231.187z" />
      <path class="p" d="M303.995,86.308c-46.03,0-83.34,27.31-83.34,84.73c0,55.92,37.31,84.72,83.34,84.72c46.02,0,83.33-33.45,83.33-84.72   C387.325,113.618,350.015,86.308,303.995,86.308z M356.085,191.198c0,28.98-23.49,52.47-52.47,52.47   c-28.97,0-52.46-23.49-52.46-52.47v-41.84c0-28.98,23.49-52.47,52.46-52.47c28.98,0,52.47,23.49,52.47,52.47V191.198z" />
      <path class="p" d="M552.419,207.613c0.817-6.228-0.423-12.204-2.578-17.39c-3.78-9.098-10.664-16.563-19.203-21.478l-57.011-30.808   c-6.767-4.229-8.743-11.5-8.743-15.703c0-12.31,15.366-22.289,34.322-22.289c14.095,0,28.765,6.908,35.954,16.635   c0,0-0.634-31.401-41.233-31.401c0,0-53.268,0.381-52.326,49.512c0.201,10.486,5.069,17.838,12.603,22.916l58.989,32.192   c0,0,18.161,7.978,11.818,29.229c-6.344,21.251-32.352,21.251-40.599,20.934c-8.247-0.317-36.159-8.247-41.233-14.907   c8.564,14.273,22.837,21.251,40.282,25.692C483.46,250.748,545.889,257.412,552.419,207.613z" />
      <path class="p" d="M2533.671,187.265c1.199-9.146-0.622-17.922-3.785-25.537c-5.551-13.361-15.66-24.323-28.199-31.54l-83.722-45.242   c-9.937-6.21-12.839-16.888-12.839-23.06c0-18.077,22.565-32.731,50.401-32.731c20.698,0,42.241,10.145,52.799,24.428   c0,0-0.932-46.112-60.552-46.112c0,0-78.225,0.56-76.841,72.709c0.295,15.398,7.444,26.195,18.508,33.653l86.625,47.275   c0,0,26.67,11.716,17.354,42.923s-47.51,31.207-59.62,30.742c-12.11-0.466-53.099-12.11-60.552-21.892   c12.576,20.96,33.536,31.207,59.154,37.728C2432.404,250.609,2524.081,260.395,2533.671,187.265z" />
    </svg>
  </NavLink>
  <div class="m-header__items">
    <NavLink href="/Notifications" class="m-header__item" Match="NavLinkMatch.All">Notifications</NavLink>
    <NavLink href="/PushNotifications" class="m-header__item" Match="NavLinkMatch.All">Push Notifications</NavLink>
    <NavLink href="/About" class="m-header__item" Match="NavLinkMatch.All">About</NavLink>
    <AuthorizeView>
      <Authorized>
        <a class="m-header__item m-header__item--separated" href="/Profile">@context.User.Identity?.Name</a>
        <button class="m-header__item" @onclick="BeginSignOut">Log out</button>
      </Authorized>
      <NotAuthorized>
        <button class="m-header__item m-header__item--separated" href="/Authentication/@RemoteAuthenticationActions.LogIn">Log in with Discord</button>
      </NotAuthorized>
      <Authorizing>
        <a class="m-header__item m-header__item--separated">Checking login status...</a>
      </Authorizing>
    </AuthorizeView>
  </div>
</div>



@code {
  private async Task BeginSignOut(MouseEventArgs args)
  {
    await SignOutManager.SetSignOutState();
    Navigation.NavigateTo($"Authentication/{RemoteAuthenticationActions.LogOut}");
  }
}